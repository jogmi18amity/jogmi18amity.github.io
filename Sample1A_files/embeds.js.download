/*! updated; 04-10-2018 03:45 PM **/


Modulr.define("core.video:models/embeds",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){function stopOtherPlayers(uid){for(var id in VIDEO_EMBED){var item=VIDEO_EMBED[id];id!==uid&&item.instance&&(item.instance.pause(),item._playing=!1)}}function validateUID(uid){return!!/^fnc-embed-([0-9]+)/.test(uid)}var VIDEO_EMBED_ITER=0,VIDEO_EMBED={},LAST_PLAY_UID=null,App=function(){};return App.prototype.generateUID=function(){return"fnc-embed-"+ ++VIDEO_EMBED_ITER},App.prototype.initialize=function(uid,type){validateUID(uid)?VIDEO_EMBED[uid]||(VIDEO_EMBED[uid]={_initialized:!0,instance:null}):Helper.log("warning: invalid uid: "+uid)},App.prototype.store=function(uid,type,instance){validateUID(uid)?VIDEO_EMBED[uid].instance=instance:Helper.log("warning: invalid uid: "+uid)},App.prototype.setPlayState=function(uid,isPlaying){null===LAST_PLAY_UID?(LAST_PLAY_UID=uid,VIDEO_EMBED[uid]._playing=isPlaying,stopOtherPlayers(uid)):isPlaying?LAST_PLAY_UID!==uid&&(LAST_PLAY_UID=uid,VIDEO_EMBED[uid]._playing=!0,stopOtherPlayers(uid)):VIDEO_EMBED[uid]._playing=!1},App.prototype.getInfo=function(){var info={};for(var uid in VIDEO_EMBED)if(VIDEO_EMBED[uid].instance){var item=VIDEO_EMBED[uid].instance;info[uid]={target:item._target.get(0)}}return info},new App});