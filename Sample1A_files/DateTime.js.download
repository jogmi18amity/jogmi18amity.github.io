/*! updated; 04-10-2018 03:45 PM **/


Modulr.define("core.plugins:DateTime",["jquery"],function(){return function(date,formatStr){formatStr=formatStr||null;var i,obj={month:date.getMonth(),day:date.getDay(),year:date.getFullYear(),date:date.getDate(),hour:date.getHours(),minutes:date.getMinutes(),seconds:date.getSeconds(),ampm:date.getHours()<12?"am":"pm",fullStr:date.toString()},getMonthString=function(n,type){type=type||"full";var month=["January","February","March","April","May","June","July","August","September","October","November","December"],ret=month[n]||"";return"short"===type&&(ret=ret.slice(0,3)),ret},toStr=function(val){return val=isNaN(val)?"":val,val.toString()},getDayString=function(n,type){type=type||"full";var day=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ret=day[n]||"";return"short"===type&&(ret=ret.slice(0,3)),ret},replace={"${mm}":obj.month+1,"${month}":getMonthString(obj.month),"${month:short}":getMonthString(obj.month,"short"),"${day}":getDayString(obj.day),"${day:short}":getDayString(obj.day,"short"),"${yr}":obj.year,"${yr:short}":toStr(obj.year).substr(2),"${dd}":obj.date<10?"0"+toStr(obj.date):toStr(obj.date),"${ddTH}":function(n){if(n=n||"",n=n.toString(),n.length<1)return n;var val=parseInt(n,10),s="",lastDigit=parseInt(n.charAt(n.length-1),10);if(val>=11&&val<=13)s="th";else switch(lastDigit){case 1:s="st";break;case 2:s="nd";break;case 3:s="rd";break;default:s="th"}return n+s}(obj.date),"${hr}":(obj.hour>12?obj.hour-12:obj.hour)||12,"${hr:reg}":obj.hour>12?obj.hour-12:0===obj.hour?12:obj.hour,"${hr:mil}":obj.hour<10?"0"+toStr(obj.hour):toStr(obj.hour),"${min}":obj.minutes<10?"0"+toStr(obj.minutes):toStr(obj.minutes),"${sec}":obj.seconds<10?"0"+toStr(obj.seconds):toStr(obj.seconds),"${ampm}":obj.ampm,"${AMPM}":obj.ampm.toUpperCase(),"${AmPm}":obj.ampm.charAt(0).toUpperCase()+obj.ampm.charAt(1)};for(i in replace)for(var idx=formatStr.indexOf(i);-1!==idx;)formatStr=formatStr.replace(i,replace[i]),idx=formatStr.indexOf(i);return formatStr}});