/*! updated; 04-10-2018 03:45 PM **/


Modulr.define("core.base:utils/detector",["require","jquery","core.plugins:OnWindowResize"],function(require,$){var OnResize=require("core.plugins:OnWindowResize"),win=$(window);return new function(){function getUid(){return"stack-"+ ++_cntr}function getType(){var ret="desktop",width=win.width();return width<768?ret="mobile":width<1025&&(ret="tablet"),ret}var Proto=this,_cntr=0,_stack={},_current=getType();Proto.current=function(){return getType()},Proto.onChange=function(callback){if("function"!=typeof callback)return!1;var uid=getUid();return _stack[uid]=callback,{stop:function(){if(_stack[uid])try{delete _stack[uid]}catch(err){_stack[uid]=null}}}},OnResize(function(){var type=getType();if(_current!==type){_current=type;for(var i in _stack)"function"==typeof _stack[i]&&_stack[i](_current)}},150)}});